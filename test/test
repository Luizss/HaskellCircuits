main (n : Vec 32) : Vec 32 = fac (n : Vec 32) (0x1 : Vec 32) : Vec 32

fac (n : Vec 32) (a : Vec 32) : Vec 32
  | equ (n : Vec 32) (0 : Vec 32) : Bit
      = add (a : Vec 32) (0 : Vec 32) : Vec 32
  | equ (n : Vec 32) (3 : Vec 32) : Bit
      = mul (6 : Vec 32) (a : Vec 32) : Vec 32
  | (1 : Bit)
      = fac (sub (n : Vec 32) (0b1 : Vec 32) : Vec 32) (mul (n : Vec 32) (a : Vec 32) : Vec 32) : Vec 32
